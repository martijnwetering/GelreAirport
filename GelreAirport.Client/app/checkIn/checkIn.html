<div data-ng-controller="gaCheckInController">

    <div class="error" data-ng-repeat="e in errors" data-ng-show="errors.length > 0">
        <p>{{ e.message }}</p>
    </div>

    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <h3>Welkom bij Gelre Airport</h3>
            <span data-ng-show="gaCounters.selectedCounter !== null">Balie: {{ gaCounters.selectedCounter }}</span>
            <hr />
        </div>
    </div>

    <div class="row" data-ng-show="step === 0">
        <div class="col-md-6 col-md-offset-3">
            <button class="btn btn-primary btn-lg" data-ng-click="setStep(1)">Balie opgegeven</button>
        </div>
    </div>

    <div class="row" data-ng-show="step === 1">
        <div class="col-md-6 col-md-offset-3">
            <p>Vanaf welke balie werkt u?</p>
            <ul class="list-group">
                <li data-ng-repeat="c in gaCounters.list"
                    data-ng-click="gaCounters.selectedCounter = $index + 1"
                    data-ng-class="{'active': $index + 1 === gaCounters.selectedCounter}"
                    data-ga-hover-class="hover"
                    class="list-group-item">
                    {{ c }}
                </li>
            </ul>
            <button class="btn btn-default pull-right" ng-disabled="gaCounters.selectedCounter === null" data-ng-click="setStep(2)">Ok</button>
            <button class="btn btn-default pull-right cancel-btn" data-ng-click="setStep(0)">Cancel</button>
        </div>
    </div>

    <div class="row" data-ng-show="step === 2" data-ng-controller="gaSearchController">
        <div class="col-md-6 col-md-offset-3" data-ng-show="searchMode">
            <div class="form">
                <div class="form-group">
                    <label for="namePassenger">Naam passagier</label>
                    <input type="text" class="form-control" id="namePassenger" data-ng-model="searchInput.passengerName"/>
                </div>

                <div class="form-group">
                    <label for="flightnumber">Vluchtnummer</label>
                    <input type="text" class="form-control" id="flightnumber" data-ng-model="searchInput.flightNumber"/>
                </div>

                <div class="form-group">
                    <label for="destination">Bestemming</label>
                    <input type="text" class="form-control" id="destination" data-ng-model="searchInput.destination"/>
                </div>

                <div class="form-group">
                    <label for="airline">Maatschappij</label>
                    <input type="text" class="form-control" id="airline" data-ng-model="searchInput.airline"/>
                </div>

                <div class="form-group">
                    <label>Vertrekdatum</label>
                    <p class="input-group">
                        <input type="text"
                               class="form-control"
                               datepicker-popup="dd-MMM-yyyy"
                               data-ng-model="searchInput.departureDate"
                               is-open="opened"
                               min-date="minDate"
                               max-date="'2017-12-31'"
                               close-text="Close"/>
                        <span class="input-group-btn">
                                <button type="button" class="btn btn-default" data-ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                    </p>
                </div>

                <button class="btn btn-default pull-right" data-ng-click="search(searchInput)">Zoek</button>
            </div>
        </div>

        <div class="col-md-6 col-md-offset-3" data-ng-hide="searchMode">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Naam</th>
                    <th>Passagiernummer</th>
                    <th>Vluchtnummer</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="passenger in gaPassengers.list">
                    <td>{{ passenger.name }}</td>
                    <td>{{ passenger.passengernumber }}</td>
                    <td>{{ passenger.flightnumber }}</td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>
